<div class="row">
	<div class="col-12 mt-4">
		<div class="card my-4">
			<div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
				<div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
					<h6 class="text-white text-capitalize ps-3">Задачи</h6>
				</div>
			</div>
			<div class="card-body px-0 pb-2">
				<div class="table-responsive p-0">
					<table [dataSource]="dataSource" mat-table>
						<!--Цвет приоритета-->
						<ng-container matColumnDef="color">
							<th *matHeaderCellDef mat-header-cell></th>
							<td *matCellDef="let task" [style.background-color]="getPriorityColor(task)" mat-cell></td>
						</ng-container>
						<!--Нумерация-->
						<ng-container matColumnDef="id">
							<th *matHeaderCellDef mat-header-cell></th>
							<td *matCellDef="let index = index" mat-cell>{{index+1}}</td>
						</ng-container>
						<!--Название задачи-->
						<ng-container matColumnDef="title">
							<th *matHeaderCellDef mat-header-cell>Название</th>
							<td *matCellDef="let task" mat-cell [class.completed]="task.completed">
								{{task.title}}
							</td>
						</ng-container>
						<!--Дата выполнения-->
						<ng-container matColumnDef="date">
							<th *matHeaderCellDef mat-header-cell>Срок</th>
							<td *matCellDef="let task" mat-cell>
								{{task.date | date:'medium'}}
							</td>
						</ng-container>
						<!--Приоритет-->
						<ng-container matColumnDef="priority">
							<th *matHeaderCellDef mat-header-cell>Приоритет</th>
							<td *matCellDef="let task" mat-cell>
								{{task.priority?.title}}
							</td>
						</ng-container>
						<!--Категория-->
						<ng-container matColumnDef="category">
							<th *matHeaderCellDef mat-header-cell>Категория</th>
							<td *matCellDef="let task" mat-cell>
								{{task.category?.title}}
							</td>
						</ng-container>

						<tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
						<tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>